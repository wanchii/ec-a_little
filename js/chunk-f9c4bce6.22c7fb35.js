(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9c4bce6"],{"173c":function(t,a,e){},1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"p-3 page",attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-between mb-0"},[e("li",{staticClass:"page-item mr-2"},[e("a",{staticClass:"btn btn-outline-primary font-weight-bold",class:{disabled:1===t.pages.current_page},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickPage(t.pages.current_page-1)}}},[t._v("Prev")])]),t._l(t.pages.total_pages,(function(a,s){return e("li",{key:s,staticClass:"page-item",class:{active:a===t.pages.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickPage(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("li",{staticClass:"page-item ml-2"},[e("a",{staticClass:"btn btn-outline-primary font-weight-bold",class:{disabled:t.pages.current_page===t.pages.total_pages},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickPage(t.pages.current_page+1)}}},[t._v("Next")])])],2)])},i=[],c={data:function(){return{}},props:{pages:{}},methods:{clickPage:function(t){this.$emit("update",t)}}},n=c,r=e("2877"),o=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=o.exports},"38f2":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"subscribe bg-primary-light py-4"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5 col-12"},[e("p",{staticClass:"h2 font-weight-bold mb-3 mb-md-0 text-md-center"},[t._v("訂閱更多消息")])]),e("div",{staticClass:"col-md-7 col-12"},[e("div",{staticClass:"input-group"},[e("input",{staticClass:"form-control subscribeInput rounded-0",attrs:{type:"email",placeholder:"Your email address","aria-label":"Your email address","aria-describedby":"button-addon2"}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"subscribeBtn btn btn-primary font-weight-bold",attrs:{type:"button",id:"button-addon2"}},[t._v("訂閱")])])])])])])])}],c={data:function(){return{}}},n=c,r=(e("8ed9"),e("2877")),o=Object(r["a"])(n,s,i,!1,null,"aa33fd38",null);a["a"]=o.exports},"8ed9":function(t,a,e){"use strict";var s=e("173c"),i=e.n(s);i.a},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),c=e("e8b5"),n=e("861d"),r=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),p=e("b622"),g=e("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",b=g>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),v=d("concat"),C=function(t){if(!n(t))return!1;var a=t[f];return void 0!==a?!!a:c(t)},y=!b||!v;s({target:"Array",proto:!0,forced:y},{concat:function(t){var a,e,s,i,c,n=r(this),d=u(n,0),p=0;for(a=-1,s=arguments.length;a<s;a++)if(c=-1===a?n:arguments[a],C(c)){if(i=o(c.length),p+i>h)throw TypeError(m);for(e=0;e<i;e++,p++)e in c&&l(d,p,c[e])}else{if(p>=h)throw TypeError(m);l(d,p++,c)}return d.length=p,d}})},ed84:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(a){t.isLoading=a}}}),e("section",{staticClass:"mb-5"},[e("div",{staticClass:"jumbotron jumbotron-fluid mb-0",staticStyle:{"background-image":"url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/cuMqN0rNaddon87q2kBCi9uIpCYohCZEE93FVHb2yYn5gxRM4M5BJ49GY4XigfYBbIGW3QhjrhrTIrgvUWFhozfBO4D4mtXcWxxtlCQAhyEn1Jwo3fxFj883hWnkxZbu.jpg)","background-position":"0% 80%","background-size":"cover",height:"300px"}}),e("div",{staticClass:"container"},[e("ul",{staticClass:"cateList list-unstyled d-flex py-3 justify-content-center"},[e("li",[e("a",{staticClass:"h4 px-md-5 px-3 hover-underline",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickCategory("all")}}},[t._v("全部")])]),e("li",[e("a",{staticClass:"h4 px-md-5 px-3 hover-underline",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickCategory("herb")}}},[t._v("香草")])]),e("li",[e("a",{staticClass:"h4 px-md-5 px-3 hover-underline",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickCategory("spice")}}},[t._v("香料")])])]),t._m(0)])]),e("section",{staticClass:"products py-5 mb-md-7 mb-5"},[e("div",{staticClass:"container"},[e("h2",{staticClass:"text-primary-dark font-weight-bold "},[t._v(t._s(t.categoryName))]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"d-flex"},[e("p",{staticClass:"pr-2"},[t._v("共 "+t._s(t.tempProducts.length)+" 項")])])])]),e("div",{staticClass:"row"},t._l(t.tempProducts,(function(a){return e("div",{key:a.id,staticClass:"col-lg-3 col-md-6 col-12 mb-4"},[e("div",{staticClass:"card border-0"},[e("router-link",{staticClass:"text-decoration-none",attrs:{to:"/product/"+a.id}},[e("div",{staticClass:"card-img bg-cover d-flex flex-column\n                justify-content-end p-lg-3 p-md-5 p-6 rounded-0",style:{backgroundImage:"url("+a.imageUrl[0]+")"}},[e("router-link",{staticClass:"btn btn-outline-primary-dark btn-mix mb-3 p-md-2 p-3",attrs:{to:"/product/"+a.id}},[t._v(" 商品內容 ")]),e("button",{staticClass:"btn btn-primary p-md-2 p-3",attrs:{type:"button",disabled:t.status.loadingItem===a.id},on:{click:function(e){return e.preventDefault(),t.addToCart(a.id,a.title)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-circle-notch fa-spin"}):t._e(),t._v(" 加到購物車 ")])],1),e("div",{staticClass:"card-body text-center p-2"},[e("div",{staticClass:"position-relative"},[e("span",{staticClass:"badge badge-secondary",staticStyle:{position:"absolute",top:"0",right:"0"}},[t._v(" "+t._s(a.category)+" ")]),e("h4",{staticClass:"card-title mb-1 text-primary-dark font-weight-bold"},[t._v(" "+t._s(a.title)+" ")])]),e("p",{staticClass:"card-text text-primary"},[t._v(" NT$ "+t._s(a.price)+" / "+t._s(a.unit)+" ")])])])],1)])})),0),"全部"===t.categoryName?e("div",{staticClass:"d-flex justify-content-center mt-4"},[e("pagination",{attrs:{pages:t.pagination},on:{update:t.getProducts}})],1):t._e()])]),e("Subscribe")],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"font-weight-bold h4 mb-5 text-center"},[e("span",{staticClass:"icon-megaphone"}),t._v(" 秋天的滋味，給你85折美味 "),e("br"),e("small",{staticClass:"text-muted"},[t._v("輸入 savory98 立即饗受")])])}],c=(e("99af"),e("4160"),e("159b"),e("38f2")),n=e("1799"),r={data:function(){return{products:[],tempProducts:[],status:{loadingItem:""},pagination:{},categoryName:"全部",isLoading:!1,errorData:[]}},components:{Subscribe:c["a"],Pagination:n["a"]},created:function(){this.getProducts(),$("html, body").animate({scrollTop:0},0)},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://course-ec-api.hexschool.io/api/").concat("326aaf6a-8ca5-4a46-b815-11a755b4a30c","/ec/products?page=").concat(a);this.isLoading=!0,this.$http.get(e).then((function(a){t.products=a.data.data,t.tempProducts=t.products,t.pagination=a.data.meta.pagination,t.isLoading=!1})).catch((function(){t.$toast.error("無法取得資料，請重新整理"),t.isLoading=!1}))},addToCart:function(t,a){var e=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.status.loadingItem=t;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("326aaf6a-8ca5-4a46-b815-11a755b4a30c","/ec/shopping"),c={product:t,quantity:s};this.$http.post(i,c).then((function(){e.$toast.success("".concat(a,"加入購物車")),e.$bus.$emit("update-total"),e.status.loadingItem=""})).catch((function(t){var s=t.response.data.errors;e.$toast.error("".concat(a).concat(s)),e.status.loadingItem=""}))},clickCategory:function(t){var a=this;switch(this.tempProducts=[],t){case"all":this.tempProducts=this.products,this.categoryName="全部";break;case"herb":this.products.forEach((function(t){"香草"===t.category&&a.tempProducts.push(t)})),this.categoryName="香草";break;case"spice":this.products.forEach((function(t){"香料"===t.category&&a.tempProducts.push(t)})),this.categoryName="香料";break;default:break}}}},o=r,l=e("2877"),u=Object(l["a"])(o,s,i,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-f9c4bce6.22c7fb35.js.map